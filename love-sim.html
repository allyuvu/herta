<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>å¤æ—¥å‘Šç™½ - 7å¤©æˆ€æ„›éŠæˆ²</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1a1a2e;
            font-family: 'Microsoft JhengHei', sans-serif;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        #game-box {
            width: 800px;
            height: 500px;
            background: #2d2d44;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            position: relative;
        }
        
        #screen {
            width: 100%;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
        }
        
        #stats {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 20px;
            border-radius: 5px;
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .stat-value {
            color: #ff6b8b;
            font-weight: bold;
        }
        
        #dialog-area {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            padding: 20px;
            height: 250px;
            margin-bottom: 15px;
            position: relative;
        }
        
        #speaker {
            position: absolute;
            top: -12px;
            left: 20px;
            background: #ff6b8b;
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
        }
        
        #dialog {
            color: #333;
            font-size: 18px;
            line-height: 1.6;
            height: 180px;
            overflow-y: auto;
            padding-top: 10px;
        }
        
        #choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .choice-btn {
            background: #4a4a6d;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s;
        }
        
        .choice-btn:hover {
            background: #ff6b8b;
            transform: translateX(5px);
        }
        
        #next-btn {
            background: #ff6b8b;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            float: right;
        }
        
        #next-btn:hover {
            background: #ff8fab;
        }
        
        .highlight {
            color: #ff6b8b;
            font-weight: bold;
        }
        
        .ending-screen {
            text-align: center;
            padding-top: 50px;
        }
        
        .ending-title {
            font-size: 32px;
            color: #ff6b8b;
            margin-bottom: 30px;
        }
        
        .ending-text {
            font-size: 20px;
            line-height: 1.6;
            margin-bottom: 40px;
        }
        
        /* Start Screen Styles */
        .start-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            color: white;
            text-align: center;
            padding: 20px;
            animation: fadeIn 0.5s ease-out;
        }
        
        .start-title {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #ff6b8b;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
            animation: pulse 2s infinite;
        }
        
        .start-subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            max-width: 600px;
            line-height: 1.5;
            color: #ffffff;
        }
        
        .start-instruction {
            font-size: 1.3rem;
            margin-bottom: 30px;
            color: #ffcc00;
            font-weight: bold;
        }
        
        .start-button {
            padding: 15px 35px;
            font-size: 1.5rem;
            background: linear-gradient(to right, #ff6b8b, #ff8fab);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 0 #e0557e;
            transition: all 0.2s;
            margin: 10px;
            min-width: 180px;
        }
        
        .start-button:hover {
            transform: translateY(3px);
            box-shadow: 0 2px 0 #e0557e;
            background: linear-gradient(to right, #ff8fab, #ff6b8b);
        }
        
        .start-button:active {
            transform: translateY(5px);
            box-shadow: 0 0px 0 #e0557e;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .start-title {
                font-size: 2.5rem;
            }
            
            .start-subtitle {
                font-size: 1.2rem;
            }
            
            .start-instruction {
                font-size: 1.1rem;
            }
            
            .start-button {
                padding: 12px 25px;
                font-size: 1.3rem;
                min-width: 160px;
            }
        }
    </style>
</head>
<body>
    <!-- Start Screen -->
    <div class="start-screen" id="startScreen">
        <h1 class="start-title">å¤æ—¥å‘Šç™½ - 7å¤©æˆ€æ„›éŠæˆ²</h1>
        <p class="start-subtitle">åœ¨ç•¢æ¥­å‰çš„æœ€å¾Œ7å¤©ï¼Œå‘æš—æˆ€çš„å­¸å¦¹è˜‡æ›‰æ™´å‘Šç™½å§ï¼<br>ä½ çš„æ¯å€‹é¸æ“‡éƒ½æœƒå½±éŸ¿å¥½æ„Ÿåº¦ã€æ™ºåŠ›å’Œé­…åŠ›ï¼Œæ±ºå®šæœ€çµ‚çš„çµå±€ã€‚</p>
        <p class="start-instruction">æŒ‰ä»»æ„éµæˆ–é»æ“ŠæŒ‰éˆ•é–‹å§‹éŠæˆ²</p>
        <button class="start-button" id="startGameBtn">é–‹å§‹éŠæˆ²</button>
    </div>
    
    <div id="game-box" style="display: none;">
        <div id="screen">
            <div id="stats">
                <div class="stat">ğŸ“… ç¬¬ <span id="day" class="stat-value">1</span> å¤©</div>
                <div class="stat">â¤ï¸ å¥½æ„Ÿåº¦: <span id="love" class="stat-value">0</span></div>
                <div class="stat">ğŸ“š æ™ºåŠ›: <span id="int" class="stat-value">10</span></div>
                <div class="stat">âœ¨ é­…åŠ›: <span id="cha" class="stat-value">10</span></div>
            </div>
            
            <div id="dialog-area">
                <div id="speaker">ç³»çµ±</div>
                <div id="dialog">éŠæˆ²è¼‰å…¥ä¸­...</div>
            </div>
            
            <div id="choices"></div>
            
            <button id="next-btn" onclick="nextDialog()">ç¹¼çºŒ</button>
        </div>
    </div>

    <script>
        // éŠæˆ²ç‹€æ…‹ - ç°¡å–®å¯é 
        let game = {
            day: 1,
            love: 0,
            intelligence: 10,
            charm: 10,
            sceneIndex: 0,
            isChoosing: false,
            gameEnded: false
        };
        
        // éŠæˆ²åŠ‡æƒ… - ç°¡å–®ç·šæ€§
        const story = [
            // ç¬¬1å¤©
            { speaker: "ç³»çµ±", text: "ã€å¤æ—¥å‘Šç™½ - æœ€å¾Œçš„7å¤©ã€‘", action: "start" },
            { speaker: "ç³»çµ±", text: "è·é›¢ç•¢æ¥­åªå‰©7å¤©ã€‚é€™æ˜¯å‘æ›‰æ™´å‘Šç™½çš„æœ€å¾Œæ©Ÿæœƒ..." },
            { speaker: "æ—ç™½", text: "èŸ¬é³´çš„å¤å¤©ï¼Œæ•™å®¤è£¡ï¼Œä½ çœ‹è‘—ååœ¨å‰æ’çš„æ›‰æ™´ã€‚" },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œå­¸é•·ï¼Œæ—©å®‰ï¼ä»Šå¤©å¤©æ°£çœŸå¥½å‘¢ï½ã€", char: "ğŸ‘§" },
            
            { 
                speaker: "é¸æ“‡", 
                text: "ä½ è¦å¦‚ä½•å›æ‡‰ï¼Ÿ",
                choices: [
                    { text: "ã€Œæ˜¯å•Šï¼Œä»Šå¤©é™½å…‰å¾ˆæº«æš–å‘¢ã€‚ã€", love: 10 },
                    { text: "ã€Œå—¯ï¼Œæ—©å®‰ã€‚ã€", love: 5 },
                    { text: "ã€Œæˆ‘åœ¨æƒ³æ•¸å­¸é¡Œç›®ã€‚ã€", intelligence: 5 }
                ]
            },
            
            // ç¬¬1å¤©ä¸‹åˆ
            { speaker: "ç³»çµ±", text: "ä¸‹åˆï¼Œæ”¾å­¸æ™‚é–“ã€‚" },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œå­¸é•·ï¼Œç­‰ç­‰æœ‰ç©ºå—ï¼Ÿæˆ‘æƒ³å»æ›¸åº—è²·åƒè€ƒæ›¸ã€‚ã€" },
            
            { 
                speaker: "é¸æ“‡",
                text: "ä½ çš„å›ç­”æ˜¯ï¼Ÿ",
                choices: [
                    { text: "ã€Œç•¶ç„¶æœ‰ç©ºï¼æˆ‘é™ªå¦³å»ã€‚ã€", love: 15, charm: 5 },
                    { text: "ã€ŒæŠ±æ­‰ï¼Œæˆ‘é‚„æœ‰äº‹ã€‚ã€", love: -5 },
                    { text: "ã€Œæˆ‘å‰›å¥½ä¹Ÿè¦å»è²·æ›¸ã€‚ã€", love: 10, intelligence: 5 }
                ]
            },
            
            // æ›¸åº—å ´æ™¯
            { speaker: "ç³»çµ±", text: "ä½ å€‘ä¸€èµ·èµ°åˆ°å­¸æ ¡é™„è¿‘çš„æ›¸åº—ã€‚" },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œé€™æœ¬æ•¸å­¸åƒè€ƒæ›¸å¥½åƒä¸éŒ¯...å­¸é•·è¦ºå¾—å‘¢ï¼Ÿã€" },
            
            { 
                speaker: "é¸æ“‡",
                text: "ä½ çš„å»ºè­°ï¼Ÿ",
                choices: [
                    { text: "ã€Œé€™æœ¬å¾ˆä¸éŒ¯ï¼Œè§£æ³•å¾ˆè©³ç´°ã€‚ã€", intelligence: 10, love: 5 },
                    { text: "ã€Œé¸å¦³å–œæ­¡çš„å°±å¥½ã€‚ã€", charm: 5 },
                    { text: "ã€Œæˆ‘ä¸å¤ªæ‡‚é€™å€‹...ã€", love: -3 }
                ]
            },
            
            // ç¬¬1å¤©çµæŸ
            { speaker: "ç³»çµ±", text: "ç¬¬ä¸€å¤©çµæŸäº†ã€‚", action: "endDay" },
            
            // ç¬¬2å¤©
            { speaker: "ç³»çµ±", text: "ç¬¬äºŒå¤© ä¸Šåˆ", action: "newDay" },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œå­¸é•·ï¼Œæ˜¨å¤©è¬è¬ä½ é™ªæˆ‘ï¼ä»Šå¤©åˆé¤ä¸€èµ·åƒå¥½å—ï¼Ÿã€" },
            
            { 
                speaker: "é¸æ“‡",
                text: "åˆé¤é‚€è«‹ï¼Ÿ",
                choices: [
                    { text: "ã€Œå¥½å•Šï¼ä¸€èµ·å»é¤å»³å§ï¼ã€", love: 15, charm: 5 },
                    { text: "ã€Œæˆ‘å¸¶äº†ä¾¿ç•¶...ã€", love: 5 },
                    { text: "ã€Œæˆ‘è¦å»åœ–æ›¸é¤¨ã€‚ã€", intelligence: 10, love: -5 }
                ]
            },
            
            // ç¬¬3å¤©
            { speaker: "ç³»çµ±", text: "ç¬¬ä¸‰å¤© æ”¾å­¸å¾Œ", action: "newDay" },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œå­¸é•·ï¼Œé€™é€±æœ«å­¸æ ¡æœ‰åœ’éŠæœƒï¼Œä½ æœƒä¾†å—ï¼Ÿã€" },
            
            { 
                speaker: "é¸æ“‡",
                text: "åœ’éŠæœƒé‚€è«‹ï¼Ÿ",
                choices: [
                    { text: "ã€Œä¸€å®šæœƒå»ï¼æˆ‘å€‘ä¸€èµ·å»å§ï¼ã€", love: 20, charm: 10 },
                    { text: "ã€Œæˆ‘å¯èƒ½æœƒå»çœ‹çœ‹å§...ã€", love: 10 },
                    { text: "ã€Œä¸å¤ªç¢ºå®šæœ‰æ²’æœ‰ç©º...ã€", love: -10 }
                ]
            },
            
            // ç¬¬4å¤©
            { speaker: "ç³»çµ±", text: "ç¬¬å››å¤© åˆä¼‘æ™‚é–“", action: "newDay" },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œå­¸é•·ï¼Œä½ æœ‰æƒ³å¥½è¦è€ƒå“ªé–“å¤§å­¸äº†å—ï¼Ÿã€" },
            
            { 
                speaker: "é¸æ“‡",
                text: "é—œæ–¼æœªä¾†...",
                choices: [
                    { text: "ã€Œæˆ‘æƒ³å»å°å¤§ï¼Œå¦³å‘¢ï¼Ÿã€", intelligence: 15, love: 10 },
                    { text: "ã€Œé‚„æ²’æ±ºå®š...å¦³æœ‰ä»€éº¼å»ºè­°ï¼Ÿã€", charm: 10, love: 5 },
                    { text: "ã€Œä¸çŸ¥é“...ã€", love: -5 }
                ]
            },
            
            // ç¬¬5å¤©
            { speaker: "ç³»çµ±", text: "ç¬¬äº”å¤© é«”è‚²èª²", action: "newDay" },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œå­¸é•·ï¼Œä½ æœƒæ‰“ç±ƒçƒå—ï¼Ÿè¦ä¸è¦ä¸€èµ·ï¼Ÿã€" },
            
            { 
                speaker: "é¸æ“‡",
                text: "é«”è‚²èª²é‚€è«‹",
                choices: [
                    { text: "ã€Œå¥½å•Šï¼æˆ‘ä¾†æ•™å¦³ï¼ã€", charm: 15, love: 15 },
                    { text: "ã€Œæˆ‘æ‰“å¾—ä¸å¤ªå¥½...ã€", love: 5 },
                    { text: "ã€Œæˆ‘æƒ³åœ¨æ—é‚Šä¼‘æ¯ã€‚ã€", love: -10 }
                ]
            },
            
            // ç¬¬6å¤©
            { speaker: "ç³»çµ±", text: "ç¬¬å…­å¤© æ”¾å­¸è·¯ä¸Š", action: "newDay" },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œå­¸é•·...æ˜å¤©å°±æ˜¯æœ€å¾Œä¸€å¤©äº†ã€‚ã€" },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œé€™å¹¾å¹´ï¼ŒçœŸçš„å¾ˆè¬è¬ä½ ä¸€ç›´ç…§é¡§æˆ‘...ã€" },
            
            { 
                speaker: "é¸æ“‡",
                text: "ä½ çš„å›æ‡‰ï¼Ÿ",
                choices: [
                    { text: "ã€Œæˆ‘ä¹Ÿå¾ˆæ„Ÿè¬èƒ½èªè­˜å¦³ã€‚ã€", love: 25, charm: 10 },
                    { text: "ã€Œå—¯...æ™‚é–“éå¾—çœŸå¿«ã€‚ã€", love: 10 },
                    { text: "ã€Œ......ã€ï¼ˆæ²‰é»˜ï¼‰", love: -15 }
                ]
            },
            
            // ç¬¬7å¤© - ç•¢æ¥­å…¸ç¦®
            { speaker: "ç³»çµ±", text: "æœ€å¾Œä¸€å¤© ç•¢æ¥­å…¸ç¦®", action: "newDay" },
            { speaker: "ç³»çµ±", text: "å…¸ç¦®çµæŸäº†ã€‚å¤§å®¶åœ¨äº’ç›¸é“åˆ¥..." },
            { speaker: "è˜‡æ›‰æ™´", text: "ã€Œå­¸é•·...ã€", emotion: "ç·Šå¼µ" },
            
            { 
                speaker: "é¸æ“‡",
                text: "é€™æ˜¯æœ€å¾Œçš„æ©Ÿæœƒäº†ï¼ä½ è¦...",
                choices: [
                    { text: "ã€Œæ›‰æ™´ï¼Œæˆ‘æœ‰è©±æƒ³å°å¦³èªª...ã€", special: "confess" },
                    { text: "ã€Œç•¢æ¥­å¿«æ¨‚ï¼Œä¿é‡ã€‚ã€", special: "goodbye" },
                    { text: "ã€Œ......å†è¦‹ã€‚ã€", special: "silence" }
                ]
            },
            
            // çµå±€
            { speaker: "ç³»çµ±", text: "ç•¢æ¥­å…¸ç¦®çµæŸï¼Œå¤å¤©ä¹ŸçµæŸäº†...", action: "showEnding" }
        ];
        
        // éš±è—é–‹å§‹ç•«é¢
        function hideStartScreen() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('game-box').style.display = 'block';
            initGame();
        }
        
        // åˆå§‹åŒ–éŠæˆ²
        function initGame() {
            updateStats();
            showCurrentScene();
        }
        
        // æ›´æ–°ç‹€æ…‹é¡¯ç¤º
        function updateStats() {
            document.getElementById("day").textContent = game.day;
            document.getElementById("love").textContent = game.love;
            document.getElementById("int").textContent = game.intelligence;
            document.getElementById("cha").textContent = game.charm;
        }
        
        // é¡¯ç¤ºç•¶å‰å ´æ™¯
        function showCurrentScene() {
            if (game.gameEnded) return;
            
            const scene = story[game.sceneIndex];
            if (!scene) {
                // éŠæˆ²çµæŸ
                showEnding();
                return;
            }
            
            // è¨­ç½®èªªè©±è€…å’Œå°è©±
            document.getElementById("speaker").textContent = scene.speaker;
            document.getElementById("dialog").textContent = scene.text;
            
            // æ¸…ç©ºé¸æ“‡å€åŸŸ
            const choicesDiv = document.getElementById("choices");
            choicesDiv.innerHTML = "";
            
            // å¦‚æœæœ‰ç‰¹æ®Šå‹•ä½œ
            if (scene.action) {
                handleAction(scene.action);
            }
            
            // å¦‚æœæœ‰é¸æ“‡é …ç›®
            if (scene.choices) {
                showChoices(scene.choices);
                document.getElementById("next-btn").style.display = "none";
            } else {
                document.getElementById("next-btn").style.display = "block";
            }
        }
        
        // è™•ç†ç‰¹æ®Šå‹•ä½œ
        function handleAction(action) {
            switch(action) {
                case "start":
                    game.day = 1;
                    game.love = 0;
                    game.intelligence = 10;
                    game.charm = 10;
                    break;
                    
                case "newDay":
                    game.day++;
                    break;
                    
                case "endDay":
                    // ç°¡å–®çš„éå ´
                    setTimeout(() => {
                        game.sceneIndex++;
                        showCurrentScene();
                    }, 1000);
                    break;
            }
        }
        
        // é¡¯ç¤ºé¸æ“‡é …ç›®
        function showChoices(choices) {
            game.isChoosing = true;
            const choicesDiv = document.getElementById("choices");
            
            choices.forEach((choice, index) => {
                const button = document.createElement("button");
                button.className = "choice-btn";
                button.textContent = choice.text;
                
                button.onclick = function() {
                    // è™•ç†é¸æ“‡æ•ˆæœ
                    if (choice.love) game.love += choice.love;
                    if (choice.intelligence) game.intelligence += choice.intelligence;
                    if (choice.charm) game.charm += choice.charm;
                    
                    // ç‰¹æ®Šé¸æ“‡
                    if (choice.special === "confess") {
                        game.love += 50; // å‘Šç™½å¤§å¹…å¢åŠ å¥½æ„Ÿåº¦
                    } else if (choice.special === "goodbye") {
                        game.love += 10;
                    } else if (choice.special === "silence") {
                        game.love -= 30;
                    }
                    
                    // æ›´æ–°é¡¯ç¤º
                    updateStats();
                    
                    // ç¹¼çºŒåˆ°ä¸‹ä¸€å€‹å ´æ™¯
                    game.isChoosing = false;
                    game.sceneIndex++;
                    
                    // ç¢ºä¿ä¸æœƒè¶…å‡ºç¯„åœ
                    if (game.sceneIndex >= story.length) {
                        showEnding();
                    } else {
                        showCurrentScene();
                    }
                };
                
                choicesDiv.appendChild(button);
            });
        }
        
        // ä¸‹ä¸€å€‹å°è©±
        function nextDialog() {
            if (game.isChoosing || game.gameEnded) return;
            
            game.sceneIndex++;
            
            if (game.sceneIndex >= story.length) {
                showEnding();
            } else {
                showCurrentScene();
            }
        }
        
        // é¡¯ç¤ºçµå±€
        function showEnding() {
            game.gameEnded = true;
            
            const screen = document.getElementById("screen");
            screen.innerHTML = "";
            
            screen.className = "ending-screen";
            
            let title, description;
            
            if (game.love >= 100) {
                title = "ğŸ‰ çœŸçµå±€ï¼šæ°¸é çš„å¤å¤©";
                description = "ä½ é¼“èµ·å‹‡æ°£å‘æ›‰æ™´å‘Šç™½ï¼Œå¥¹ä¹Ÿèªªå‡ºäº†åŒæ¨£çš„å¿ƒæ„ã€‚<br>ä½ å€‘ç´„å¥½è¦ä¸ŠåŒä¸€æ‰€å¤§å­¸ï¼Œé€™å€‹å¤å¤©æˆç‚ºæ„›æƒ…æ•…äº‹çš„é–‹å§‹ã€‚";
            } else if (game.love >= 70) {
                title = "ğŸ˜Š ç¾å¥½çµå±€ï¼šçè²´çš„å‹èª¼";
                description = "ä½ å€‘äº¤æ›äº†è¯çµ¡æ–¹å¼ï¼Œç´„å®šæ°¸é æ˜¯æœ‹å‹ã€‚<br>é›–ç„¶æ²’æœ‰æˆç‚ºæˆ€äººï¼Œä½†é€™æ®µå›æ†¶æ°¸é çè²´ã€‚";
            } else if (game.love >= 40) {
                title = "ğŸ˜ æ™®é€šçµå±€ï¼šé’æ˜¥çš„å›æ†¶";
                description = "ç•¢æ¥­å…¸ç¦®çµæŸï¼Œä½ å€‘ç°¡å–®é“åˆ¥ã€‚<br>å¤å¤©çµæŸäº†ï¼Œä½†é’æ˜¥çš„å›æ†¶æœƒä¸€ç›´ç•™è‘—ã€‚";
            } else {
                title = "ğŸ˜¢ éºæ†¾çµå±€ï¼šéŒ¯éçš„å‘Šç™½";
                description = "ä½ å§‹çµ‚æ²’æœ‰èªªå‡ºå¿ƒè£¡çš„è©±ã€‚<br>çœ‹è‘—æ›‰æ™´é›¢é–‹çš„èƒŒå½±ï¼Œä½ çŸ¥é“æœ‰äº›æ©Ÿæœƒä¸€æ—¦éŒ¯éå°±ä¸æœƒå†ä¾†ã€‚";
            }
            
            // æ·»åŠ çµ±è¨ˆ
            description += `<br><br>æœ€çµ‚çµ±è¨ˆï¼š<br>
                â¤ï¸ å¥½æ„Ÿåº¦: ${game.love}<br>
                ğŸ“š æ™ºåŠ›: ${game.intelligence}<br>
                âœ¨ é­…åŠ›: ${game.charm}`;
            
            const html = `
                <h1 class="ending-title">${title}</h1>
                <div class="ending-text">${description}</div>
                <button id="next-btn" onclick="restartGame()" style="margin: 20px auto; display: block;">
                    é‡æ–°é–‹å§‹éŠæˆ²
                </button>
            `;
            
            screen.innerHTML = html;
        }
        
        // é‡æ–°é–‹å§‹éŠæˆ²
        function restartGame() {
            game = {
                day: 1,
                love: 0,
                intelligence: 10,
                charm: 10,
                sceneIndex: 0,
                isChoosing: false,
                gameEnded: false
            };
            
            const screen = document.getElementById("screen");
            screen.className = "";
            screen.innerHTML = `
                <div id="stats">
                    <div class="stat">ğŸ“… ç¬¬ <span id="day" class="stat-value">1</span> å¤©</div>
                    <div class="stat">â¤ï¸ å¥½æ„Ÿåº¦: <span id="love" class="stat-value">0</span></div>
                    <div class="stat">ğŸ“š æ™ºåŠ›: <span id="int" class="stat-value">10</span></div>
                    <div class="stat">âœ¨ é­…åŠ›: <span id="cha" class="stat-value">10</span></div>
                </div>
                
                <div id="dialog-area">
                    <div id="speaker">ç³»çµ±</div>
                    <div id="dialog">éŠæˆ²è¼‰å…¥ä¸­...</div>
                </div>
                
                <div id="choices"></div>
                
                <button id="next-btn" onclick="nextDialog()">ç¹¼çºŒ</button>
            `;
            
            initGame();
        }
        
        // é–‹å§‹éŠæˆ²
        window.onload = function() {
            // æ·»åŠ äº‹ä»¶ç›£è½å™¨
            document.getElementById('startGameBtn').addEventListener('click', hideStartScreen);
            
            // æŒ‰ä»»æ„éµé–‹å§‹éŠæˆ²
            document.addEventListener('keydown', function(e) {
                if (document.getElementById('startScreen').style.display !== 'none') {
                    hideStartScreen();
                    e.preventDefault();
                }
            });
        };
    </script>
</body>
</html>
